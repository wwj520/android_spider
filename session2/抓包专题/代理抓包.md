### mitmproxy 抓包
- https://blog.csdn.net/m0_67696270/article/details/129105462


### chartles 抓包
下载：https://www.charlesproxy.com/download/
激活：https://www.zzzmode.com/mytools/charles/

- 安卓7.0 以上抓包需要将软件证书到证书系统目录
```text
 1.导出抓包软件pem证书
     *.如果导出cer证书要转换证书为pem格式
     openssl x509 -inform der -in xxx.cer -out xxx.pem
2.输出证书内容  
     openssl x509 -inform PEM -subject_hash_old -in xxx.pem
3. 证书改名（第2步输出的第一行为证书名），证书文件名后加一个 .0
   mv xxx.pem 545452.0
4. adb push 证书到手机 /sdcard/
5. 进入手机到/sdcard/，su到root用户，执行命令： 
     更改用户组： chgrp root 证书名
     更改文件权限：chmod 777 证书名
6. mv 证书到 /system/etc/security/cacerts/
     如果遇到 Read-only file system
     执行命令： mount -o rw,remount /system 重新挂在/system目录为可读写  
     有些手机无法解决 Read-only file system
7 ***** 如果遇到app抓包都是unknown***** 
    解决：
        手机下载“mt管理器”app界面左侧找到文件，然后导入到右侧的system/etc/security/cacerts/ 目录下，
    长按文件名-属性-更多-权限-修改读取权限-改成644-确定，然后重启下Charles软件
   
```
###代理抓包被检测：
```text
易检测
    System.getProperty("http.proxyHost")
    System.getProperty("http.proxyPort")
no_proxy
    new OkHttpClient().newBuilder().proxy(Proxy.NO_PROXY).build();

    
```